{% extends "base.html" %}
{% block title %}Edit Student{% endblock %}
{% block content %}
<section class="content mt-4">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h3 class="card-title">Edit Student</h3>
                    </div>
                    <div class="card-body">
                        <form method="POST" action="{{ url_for('edit_student', id=student.id) }}" enctype="multipart/form-data">
                            <div class="form-group">
                                <label for="student_number">Student Number</label>
                                <input type="text" class="form-control" id="student_number" name="student_number" value="{{ student.student_number }}" required>
                            </div>
                            <div class="form-group">
                                <label for="first_name">First Name</label>
                                <input type="text" class="form-control" id="first_name" name="first_name" value="{{ student.first_name }}" required>
                            </div>
                            <div class="form-group">
                                <label for="last_name">Last Name</label>
                                <input type="text" class="form-control" id="last_name" name="last_name" value="{{ student.last_name }}" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Email</label>
                                <input type="email" class="form-control" id="email" name="email" value="{{ student.email }}" required>
                            </div>
                            <div class="form-group">
                                <label for="age">Age</label>
                                <input type="number" class="form-control" id="age" name="age" value="{{ student.age }}" required>
                            </div>
                            <div class="form-group">
                                <label for="birthday">Birthday</label>
                                <input type="date" class="form-control" id="birthday" name="birthday" value="{{ student.birthday }}" required>
                            </div>
                            <div class="form-group">
                                <label for="address">Address</label>
                                <input type="text" class="form-control" id="address" name="address" value="{{ student.address }}" required>
                            </div>
                            <div class="form-group">
                                <label for="school_year">School Year</label>
                                <input type="text" class="form-control" id="school_year" name="school_year" value="{{ student.school_year }}" required>
                            </div>
                            <div class="form-group">
                                <label for="gender">Gender</label>
                                <select class="form-control" id="gender" name="gender" required>
                                    <option value="Male" {% if student.gender == 'Male' %}selected{% endif %}>Male</option>
                                    <option value="Female" {% if student.gender == 'Female' %}selected{% endif %}>Female</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="grades">Grades</label>
                                <input type="text" class="form-control" id="grades" name="grades" value="{{ student.grades }}" required>
                            </div>
                            <div class="form-group">
                                <label for="course">Course</label>
                                <ul id="sortable" class="list-group">
                                    <li class="list-group-item">
                                        <input type="checkbox" name="course" value="BSCS" {% if 'BSCS' in student.get_courses() %}checked{% endif %}> BSCS
                                    </li>
                                    <li class="list-group-item">
                                        <input type="checkbox" name="course" value="BSIT" {% if 'BSIT' in student.get_courses() %}checked{% endif %}> BSIT
                                    </li>
                                    <li class="list-group-item">
                                        <input type="checkbox" name="course" value="BSIS" {% if 'BSIS' in student.get_courses() %}checked{% endif %}> BSIS
                                    </li>
                                </ul>
                            </div>
                            <div class="form-group">
                                <label for="picture">Picture</label>
                                <input type="file" class="form-control" id="picture" name="picture">
                                {% if student.picture %}
                                    <div class="mt-2">
                                        <img src="{{ url_for('static', filename='uploads/' ~ student.picture) }}" alt="Student Picture" width="100">
                                    </div>
                                {% endif %}
                            </div>
                            <button type="submit" class="btn btn-primary">Update Student</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
